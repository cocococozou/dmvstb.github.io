<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="cox-analysis-and-visualization">Cox Analysis and Visualization</h1>
<p>DZ November 25, 2018</p>
<h3 id="multivariate-cox-regrassion-and-interpretation">Multivariate Cox Regrassion and Interpretation</h3>
<pre class="sourceCode r" id="cb1"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">load</span>(<span class="st">'./data/df_combine.RData'</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">df &lt;-<span class="st"> </span>df_combine <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">age =</span> <span class="dv">2018</span><span class="op">-</span><span class="kw">as.numeric</span>(birthyear)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">complications =</span> <span class="kw">as.numeric</span>(complications)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">exercise =</span> <span class="kw">as.numeric</span>(exercise))</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"></a>
<a class="sourceLine" id="cb1-8" data-line-number="8">cox &lt;-<span class="st"> </span><span class="kw">coxph</span>(<span class="kw">Surv</span>(days, censer) <span class="op">~</span><span class="st"> </span>complications<span class="op">+</span>gender<span class="op">+</span>exercise<span class="op">+</span>age<span class="op">+</span>drug, <span class="dt">data =</span>df)</a></code></pre>
<h4 id="the-global-test-statistic-is-given-by">The global test statistic is given by:</h4>
<pre class="sourceCode r" id="cb2"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">broom<span class="op">::</span><span class="kw">glance</span>(cox) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(statistic.log,p.value.log,statistic.sc,p.value.sc,statistic.wald,p.value.wald,r.squared) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">digits =</span> <span class="dv">3</span>)</a></code></pre>
<table>
<thead>
<tr class="header">
<th align="right">statistic.log</th>
<th align="right">p.value.log</th>
<th align="right">statistic.sc</th>
<th align="right">p.value.sc</th>
<th align="right">statistic.wald</th>
<th align="right">p.value.wald</th>
<th align="right">r.squared</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">4901.174</td>
<td align="right">0</td>
<td align="right">4775.888</td>
<td align="right">0</td>
<td align="right">4769.39</td>
<td align="right">0</td>
<td align="right">0.028</td>
</tr>
</tbody>
</table>
<h4 id="the-summary-of-cox-regression">The summary of Cox Regression</h4>
<pre class="sourceCode r" id="cb3"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">broom<span class="op">::</span><span class="kw">tidy</span>(cox) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">exp_estimate =</span> <span class="kw">exp</span>(estimate)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(term,exp_estimate, std.error, statistic, p.value) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">digits =</span> <span class="dv">3</span>)</a></code></pre>
<table>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">exp_estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">complications</td>
<td align="right">0.821</td>
<td align="right">0.005</td>
<td align="right">-37.852</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">gender</td>
<td align="right">0.919</td>
<td align="right">0.005</td>
<td align="right">-17.172</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">exercise</td>
<td align="right">0.818</td>
<td align="right">0.005</td>
<td align="right">-37.195</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">age</td>
<td align="right">0.999</td>
<td align="right">0.000</td>
<td align="right">-2.226</td>
<td align="right">0.026</td>
</tr>
<tr class="odd">
<td align="left">drug</td>
<td align="right">0.909</td>
<td align="right">0.002</td>
<td align="right">-40.007</td>
<td align="right">0.000</td>
</tr>
</tbody>
</table>
<p>The p-value for all three overall tests (likelihood, Wald, and score) are significant, indicating that the model is significant. These tests evaluate the omnibus null hypothesis that all of the (\beta) are 0, and therefore the omnibus null hypothesis is soundly rejected.</p>
<p>In the multivariate Cox analysis, the all covariates remain significant (p &lt; 0.05).</p>
<p>The p-value for exercise is less than 2e-16, with a hazard ratio HR = exp(coef) = 0.818, indicating a relationship between the exercise status and decreased risk of death. When holding the other covariates constant, exercising more than 2 hour a week (exercise=3) reduces the hazard by nearly 20%. We conclude that, exercising more than 2 hour a week is associated with good prognostic.</p>
<p>The p-value for gender is less than 2e-16, with a hazard ratio HR = exp(coef) = 0.919, indicating a relationship between the patientsâ€™ sex and decreased risk of death. When holding the other covariates constant, being female (sex=2) reduces the hazard by nearly 8%. We conclude that, being female is associated with good prognostic.</p>
<p>The p-value for drug is less than 2e-16, with a hazard ratio HR = exp(coef) = 0.909, indicating a relationship between the number of andiabetic drugs that the patient takes and decreased risk of death. When holding the other covariates constant, taking four antidiabetic medications (drug=4) reduces the hazard by nearly 10%. We conclude that, taking antidiabetic medication is associated with good prognostic.</p>
<h3 id="visualizing-the-estimated-distribution-of-survival-times">Visualizing the estimated distribution of survival times</h3>
<pre class="sourceCode r" id="cb4"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">df_combine<span class="op">$</span>survival =<span class="st"> </span><span class="kw">with</span>(df_combine, <span class="kw">Surv</span>(days, tb <span class="op">==</span><span class="st"> &quot;Yes&quot;</span>))</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">km &lt;-<span class="st"> </span><span class="kw">survfit</span>(survival <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">data =</span> df_combine, <span class="dt">conf.type =</span> <span class="st">&quot;log-log&quot;</span>)</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">km_by_gender &lt;-<span class="st"> </span><span class="kw">survfit</span>(survival <span class="op">~</span><span class="st"> </span>gender, <span class="dt">data =</span> df_combine, <span class="dt">conf.type =</span> <span class="st">&quot;log-log&quot;</span>)</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="kw">ggsurvplot</span>(km_by_gender, <span class="dt">data =</span> df_combine, <span class="dt">risk.table =</span> F, <span class="dt">pval =</span> T, <span class="dt">ylab =</span> <span class="st">&quot;Probability of getting TB&quot;</span>, <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="fl">0.9</span>, <span class="fl">1.0</span>), <span class="dt">legend.labs =</span> <span class="kw">c</span>(<span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>))</a></code></pre>
<pre><code>## Warning: Removed 1 rows containing missing values (geom_text).

## Warning: Removed 1 rows containing missing values (geom_text).
</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>

</body>
</html>
